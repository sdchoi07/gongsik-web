<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">

<head>
	<link rel="stylesheet" th:href="@{/assets/css/chat.css}">
	<script src="https://kit.fontawesome.com/d8788f784e.js" crossorigin="anonymous"></script>
	<script th:src="@{/assets/js/chat/chatting.js}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
	<meta charset="EUC-KR">
	<style>
		
	</style>


	<title>채팅</title>

</head>
<div layout:fragment="content">
	<div class="container mt-3">
		<div class="row">
			<input type="hidden" value="${usrNm}" id="accountUsrNm">
			<div class="col-md-12 chat-container " style="min-height: 700px; max-width:800px; left:240px">
				<div class="card chat-list">
					<div class="card-header" style="height:40px">
						채팅방 목록
						<i class="fa fa-comments fa-2x  pull-right"  style="font-size: 25px;" aria-hidden="true" onclick="openModal()"></i>
					</div>
					<ul class="list-group" id="chat-list-group">
						<!-- 여기에 채팅방 목록 항목들을 추가하세요 -->
					</ul>
				</div>
				<div class="card chat-room d-flex justify-content-center align-items-center" id="chat-room">
					<div class="chat-log__item text-center chat-init">
						<p class="chat-log__message font-weight-bold">안녕하세요 <span th:text="${usrNm}"
								id="usrNm"></span>님, 채팅을 시작해보세요.</p>
					</div>
					<div class="chat-log__item text-center chat-init"><button class="btn btn-dark"
							onclick="openModal()">채팅
							시작하기</button></div>
					<div class="card-header exitchatroom" style="display : none">
						<i class="fas fa-arrow-left mr-1" id="exitChat"></i> <span th:text="${withUsrNm}" id="withUsrNm"></span>
					</div>
					<div class="chat-log" style="display : none">

					</div>

					<!-- /.box-footer-->
					<div class="card-footer" style="display : none">
						<div class="input-group">
							<textarea type="text" class="form-control" placeholder="메시지를 입력하세요..."
								id="message-input"></textarea>
							<button class="btn btn-primary" onclick="sendMessage()">보내기</button>
						</div>
					</div>
				</div>
				<!--/.direct-chat -->
			</div>

		</div>
	</div>
	<!-- 모달 -->
	<div class="modal fade" id="chatListModal" tabindex="-1" aria-labelledby="chatListModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content" style="width:500px; height: 500px;">
				<div class="modal-header">
					<h5 class="modal-title" id="chatListModalLabel">회원 목록</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<ul class="list-group usr-lists">
						<!-- 여기에 채팅방 목록 항목들을 추가하세요 -->

						<!-- 다른 채팅방 항목들을 추가할 수 있습니다. -->
					</ul>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
				</div>
			</div>
		</div>
	</div>
</div>